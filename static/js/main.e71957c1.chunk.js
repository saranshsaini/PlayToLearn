(this.webpackJsonppianomidi=this.webpackJsonppianomidi||[]).push([[0],{30:function(e,t,n){},37:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(31),i=n.n(s),o=(n(37),n(2)),a=n(32),j=n.n(a),u=(n(30),n(0));function l(e){var t="K:clef="+e.clef+" \n L:1/4 \n |"+e.note;return Object(c.useEffect)((function(){j.a.renderAbc("paper",t,{scale:1.7})})),Object(u.jsx)("div",{className:"sheetmusic_div",children:Object(u.jsx)("div",{id:"paper",className:"sheetmusic"})})}function b(e){var t=e.total,n=e.curr,c=e.numPressed,r=c>0?(n/c*100).toFixed(2):" --";return Object(u.jsxs)("div",{className:"dataBox "+(e.final&&"gameover"),children:[Object(u.jsx)("h1",{children:"Game Stats:"}),!e.final&&Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{children:Object(u.jsx)("u",{children:"Progress: "})}),n," played, ",t-n," notes remaining"]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{children:Object(u.jsx)("u",{children:"Accuracy:"})}),r,"%"]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{children:Object(u.jsx)("u",{children:"Incorrect:"})}),c-n]}),e.final&&Object(u.jsx)("button",{onClick:function(){return window.location.reload()},children:"Play Again"})]})}function d(e){return Object(u.jsxs)("div",{className:"instructions-box",children:[Object(u.jsx)("h2",{children:"Set up"}),Object(u.jsx)("p",{children:"Want to learn how to read squiggles on paper and somehow know what key to press? Me too!"}),Object(u.jsx)("p",{children:"You'll need a MIDI capable piano to make the most of this site."}),Object(u.jsx)("p",{children:"Currently, only Chrome and Edge have MIDI Input capability supported in the browser."}),Object(u.jsx)("p",{children:"Enter the number of notes you want to play and hit start!"}),Object(u.jsx)("p",{children:"If the MIDI input isn't being detected for whatever reason, simply unplug and plug it back into your computer."}),Object(u.jsx)("p",{children:"The image below shows various connection types. The USB connection is the most straightforward, though other types work as well."}),Object(u.jsx)("img",{src:"https://www.doctormix.com/blog/wp-content/uploads/2016/05/What-Audio-Cable-Is-Best.jpg",alt:"diagram of various MIDI Connection types"}),Object(u.jsx)("button",{onClick:e.back,children:"Back to Game"})]})}var h={"A,,,":33,"^A,,,":34,"_B,,,":34,"B,,,":35,"C,,":36,"^C,,":37,"_D,,":37,"D,,":38,"^D,,":39,"_E,,":39,"E,,":40,"F,,":41,"^F,,":42,"_G,,":42,"G,,":43,"^G,,":44,"_A,,":44,"A,,":45,"^A,,":46,"_B,,":46,"B,,":47,"C,":48,"^C,":49,"_D,":49,"D,":50,"^D,":51,"_E,":51,"E,":52,"F,":53,"^F,":54,"_G,":54,"G,":55,"^G,":56,"_A,":56,"A,":57,"^A,":58,"_B,":58,"B,":59,C:60,"^C":61,_D:61,D:62,"^D":63,_E:63,E:64,F:65,"^F":66,_G:66,G:67,"^G":68,_A:68,A:69,"^A":70,_B:70,B:71,c:72,"^c":73,_d:73,d:74,"^d":75,_e:75,e:76,f:77,"^f":78,_g:78,g:79,"^g":80,_a:80,a:81,"^a":82,_b:82,b:83,"c'":84,"^c'":85,"_d'":85,"d'":86,"^d'":87,"_e'":87,"e'":88},O={33:"A,,,",34:"_B,,,",35:"B,,,",36:"C,,",37:"_D,,",38:"D,,",39:"_E,,",40:"E,,",41:"F,,",42:"_G,,",43:"G,,",44:"_A,,",45:"A,,",46:"_B,,",47:"B,,",48:"C,",49:"_D,",50:"D,",51:"_E,",52:"E,",53:"F,",54:"_G,",55:"G,",56:"_A,",57:"A,",58:"_B,",59:"B,",60:"C",61:"_D",62:"D",63:"_E",64:"E",65:"F",66:"_G",67:"G",68:"_A",69:"A",70:"_B",71:"B",72:"c",73:"_d",74:"d",75:"_e",76:"e",77:"f",78:"_g",79:"g",80:"_a",81:"a",82:"_b",83:"b",84:"c'",85:"_d'",86:"d'",87:"_e'",88:"e'"};function f(e){var t=e.inputNote,n=e.numPressed,r=e.changeInput,s=e.setOver,i=Object(c.useState)(!1),a=Object(o.a)(i,2),j=a[0],f=a[1],p=Object(c.useState)([]),x=Object(o.a)(p,2),m=x[0],_=x[1],g=Object(c.useState)(0),v=Object(o.a)(g,2),I=v[0],w=v[1],y=Object(c.useState)(""),A=Object(o.a)(y,2),k=A[0],C=A[1],D=Object(c.useState)("treble"),B=Object(o.a)(D,2),E=B[0],S=B[1],M=Object(c.useState)(""),G=Object(o.a)(M,2),N=G[0],F=G[1],P=Object(c.useState)(10),T=Object(o.a)(P,2),q=T[0],H=T[1],J=Object(c.useState)(!1),L=Object(o.a)(J,2),U=L[0],W=L[1];function K(e){S(h[e]<60?"bass":"treble"),C(e)}function Y(){F(""),f(!1)}return Object(c.useEffect)((function(){j&&m.length===I?(s(),W(!0)):U||t!==m[I]||(w((function(e){return e+1})),r(),K(m[I]))}),[I,j,m,t,W,k,U,r,s]),Object(c.useEffect)((function(){U||K(m[I])})),j||0!==N.length?j||"instructions"!==N?j&&!U?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Start Playing!"}),Object(u.jsxs)("div",{className:"gameHolder",children:[Object(u.jsx)(l,{note:k,clef:E}),Object(u.jsx)(b,{numPressed:n,total:q,curr:I}),Object(u.jsx)("button",{onClick:Y,children:"Back to Main Menu"})]})]}):Object(u.jsx)(b,{final:!0,numPressed:n,total:q,curr:I}):Object(u.jsx)(d,{back:Y}):Object(u.jsxs)("div",{className:"menuHolder",children:["Number of keys (minimum 10):",Object(u.jsx)("input",{type:"number",name:"num",value:q,onChange:function(e){return H(e.target.value)}}),Object(u.jsx)("button",{onClick:function(){if(!(q<10)){var t=function(){for(var e,t,n=[],c=0;c<q;c++){var r=(e=48,t=83,e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),s=O[r];n.push(s)}return n}();_(t),C(m[0]),f(!0),w(0),e.connectMidi()}},children:Object(u.jsx)("h3",{children:"Start Game"})}),Object(u.jsx)("button",{onClick:function(){return F("instructions")},children:Object(u.jsx)("h3",{children:"How to Use"})})]})}function p(){var e=Object(c.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),i=Object(o.a)(s,2),a=i[0],j=i[1],l=Object(c.useState)(!1),b=Object(o.a)(l,2),d=b[0],h=b[1],p=Object(c.useState)(0),x=Object(o.a)(p,2),m=x[0],_=x[1],g=Object(c.useState)(!0),v=Object(o.a)(g,2),I=v[0],w=v[1],y=Object(c.useState)(!0),A=Object(o.a)(y,2),k=A[0],C=A[1];function D(e){r(e.inputs),w(!0),B(e.inputs,E)}function B(e,t){e.forEach((function(e){return e.onmidimessage=t}))}function E(e){console.log("notes",e.data),function(e){var t=e[1];144===e[0]&&(_((function(e){return e+1})),j(O[t]))}(e.data)}function S(){w(!1)}function M(){window.location.reload()}return Object(c.useEffect)((function(){navigator.requestMIDIAccess?C(!0):C(!1)}),[]),Object(c.useEffect)((function(){null!=n&&B(n,null)}),[d,n]),Object(u.jsxs)("div",{className:"sheetholder",children:[!k&&Object(u.jsxs)("div",{className:"error",children:[Object(u.jsx)("h1",{children:"It looks like this browser doesn't allow for MIDI input..."}),Object(u.jsx)("p",{children:"Currently, only Chrome and Edge have MIDI Input capability supported."}),Object(u.jsx)("button",{onClick:M,children:"Try Again"})]}),k&&!I&&Object(u.jsxs)("div",{className:"error",children:[Object(u.jsx)("h1",{children:"It looks like you denied MIDI input in the browser..."}),Object(u.jsx)("button",{onClick:M,children:"Try Again"})]}),k&&I&&Object(u.jsx)(f,{setOver:function(){return h(!0)},inputNote:a,numPressed:m,changeInput:function(){return j("")},connectMidi:function(){navigator.requestMIDIAccess().then(D,S)},connectMidiFunctions:B})]})}function x(){return Object(u.jsx)("div",{className:"header-holder",children:Object(u.jsx)("h1",{children:"Piano Typer"})})}function m(){return Object(u.jsx)("div",{className:"footer-holder",children:Object(u.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/saranshsaini/PlayToLearn/",children:"Source Code"})})}var _=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsx)(p,{}),Object(u.jsx)(m,{})]})};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.e71957c1.chunk.js.map
(this.webpackJsonppianomidi=this.webpackJsonppianomidi||[]).push([[0],{30:function(e,t,n){},37:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(31),o=n.n(s),i=(n(37),n(2)),a=n(32),l=n.n(a),j=(n(30),n(0));function u(e){var t="K:clef="+e.clef+" \n L:1/4 \n |"+e.note;return Object(c.useEffect)((function(){l.a.renderAbc("paper",t,{scale:1.7})})),Object(j.jsx)("div",{className:"sheetmusic_div",children:Object(j.jsx)("div",{id:"paper",className:"sheetmusic"})})}function b(e){var t=e.total,n=e.curr,c=e.numPressed,r=c>0?(n/c*100).toFixed(2):"--";return Object(j.jsxs)("div",{className:"dataBox "+(e.final&&"gameover"),children:[Object(j.jsx)("h1",{children:"Game Stats:"}),!e.final&&Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:Object(j.jsx)("u",{children:"Progress: "})}),n," played, ",t-n," notes remaining"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:Object(j.jsx)("u",{children:"Accuracy:"})})," ",r,"%"," "]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:Object(j.jsx)("u",{children:"Incorrect:"})})," ",c-n]}),e.final&&Object(j.jsx)("button",{onClick:function(){return window.location.reload()},children:"Start Again"})]})}function d(e){return Object(j.jsxs)("div",{className:"instructions-box",children:[Object(j.jsx)("h2",{children:"Set up"}),Object(j.jsx)("p",{children:"You'll need a MIDI capable piano to make the most of this site."}),Object(j.jsx)("p",{children:"Currently, only Chrome and Edge have MIDI Input capability supported in the browser."}),Object(j.jsx)("p",{children:"Enter the number of notes you want to play and hit start!"}),Object(j.jsx)("p",{children:"If the MIDI input isn't being detected for whatever reason, simply unplug and plug it back into you're computer."}),Object(j.jsx)("p",{children:"The image below shows various connection types. The most straightforward is the USB connection, though others can work as well."}),Object(j.jsx)("img",{src:"https://www.doctormix.com/blog/wp-content/uploads/2016/05/What-Audio-Cable-Is-Best.jpg",alt:"diagram of various MIDI Connection types"}),Object(j.jsx)("button",{onClick:e.back,children:"Back to Game"})]})}var h={"A,,,":33,"^A,,,":34,"_B,,,":34,"B,,,":35,"C,,":36,"^C,,":37,"_D,,":37,"D,,":38,"^D,,":39,"_E,,":39,"E,,":40,"F,,":41,"^F,,":42,"_G,,":42,"G,,":43,"^G,,":44,"_A,,":44,"A,,":45,"^A,,":46,"_B,,":46,"B,,":47,"C,":48,"^C,":49,"_D,":49,"D,":50,"^D,":51,"_E,":51,"E,":52,"F,":53,"^F,":54,"_G,":54,"G,":55,"^G,":56,"_A,":56,"A,":57,"^A,":58,"_B,":58,"B,":59,C:60,"^C":61,_D:61,D:62,"^D":63,_E:63,E:64,F:65,"^F":66,_G:66,G:67,"^G":68,_A:68,A:69,"^A":70,_B:70,B:71,c:72,"^c":73,_d:73,d:74,"^d":75,_e:75,e:76,f:77,"^f":78,_g:78,g:79,"^g":80,_a:80,a:81,"^a":82,_b:82,b:83,"c'":84,"^c'":85,"_d'":85,"d'":86,"^d'":87,"_e'":87,"e'":88},O={33:"A,,,",34:"_B,,,",35:"B,,,",36:"C,,",37:"_D,,",38:"D,,",39:"_E,,",40:"E,,",41:"F,,",42:"_G,,",43:"G,,",44:"_A,,",45:"A,,",46:"_B,,",47:"B,,",48:"C,",49:"_D,",50:"D,",51:"_E,",52:"E,",53:"F,",54:"_G,",55:"G,",56:"_A,",57:"A,",58:"_B,",59:"B,",60:"C",61:"_D",62:"D",63:"_E",64:"E",65:"F",66:"_G",67:"G",68:"_A",69:"A",70:"_B",71:"B",72:"c",73:"_d",74:"d",75:"_e",76:"e",77:"f",78:"_g",79:"g",80:"_a",81:"a",82:"_b",83:"b",84:"c'",85:"_d'",86:"d'",87:"_e'",88:"e'"};function f(e){var t=e.inputNote,n=e.numPressed,r=e.changeInput,s=Object(c.useState)(!1),o=Object(i.a)(s,2),a=o[0],l=o[1],f=Object(c.useState)([]),x=Object(i.a)(f,2),p=x[0],m=x[1],g=Object(c.useState)(0),_=Object(i.a)(g,2),v=_[0],C=_[1],w=Object(c.useState)(""),A=Object(i.a)(w,2),I=A[0],y=A[1],D=Object(c.useState)("treble"),k=Object(i.a)(D,2),B=k[0],E=k[1],S=Object(c.useState)(""),G=Object(i.a)(S,2),M=G[0],N=G[1],F=Object(c.useState)(10),P=Object(i.a)(F,2),T=P[0],H=P[1],q=Object(c.useState)(!1),J=Object(i.a)(q,2),L=J[0],U=J[1];function K(e){E(h[e]<60?"bass":"treble"),y(e)}function W(){N(""),l(!1)}return Object(c.useEffect)((function(){console.log("in effect"),console.log("curr ind: ",v),a&&p.length===v?U(!0):t===p[v]&&(console.log("correct note played: ",t),C((function(e){return e+1})),console.log("new ind: ",v),r(),console.log("effect list: ",p),K(p[v]),console.log("new first: ",I)),console.log("new ind: ",v),console.log("effect list: ",p)}),[v,a,p,t,U,I,r]),Object(c.useEffect)((function(){K(p[v])})),a||0!==M.length?a||"instructions"!==M?a&&!L?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"Start Playing!"}),Object(j.jsxs)("div",{className:"gameHolder",children:[Object(j.jsx)(u,{note:I,clef:B}),Object(j.jsx)(b,{numPressed:n,total:T,curr:v}),Object(j.jsx)("button",{onClick:W,children:"Back to Main Menu"})]})]}):Object(j.jsx)(b,{final:!0,numPressed:n,total:T,curr:v}):Object(j.jsx)(d,{back:W}):Object(j.jsxs)("div",{className:"menuHolder",children:["Number of keys (minimum 10):",Object(j.jsx)("input",{type:"number",name:"num",value:T,onChange:function(e){return H(e.target.value)}}),Object(j.jsx)("button",{onClick:function(){if(!(T<10)){var e=function(){for(var e,t,n=[],c=0;c<T;c++){var r=(e=48,t=83,e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),s=O[r];n.push(s)}return["C","C","C","C","C","C","C","C","C","C"]}();console.log("created new list: ",e),m(e),y(p[0]),l(!0)}},children:Object(j.jsx)("h3",{children:"Start Game"})}),Object(j.jsx)("button",{onClick:function(){return N("instructions")},children:Object(j.jsx)("h3",{children:"How to Use"})})]})}function x(){var e,t=Object(c.useState)(""),n=Object(i.a)(t,2),r=n[0],s=n[1],o=Object(c.useState)(!1),a=Object(i.a)(o,2),l=a[0],u=a[1],b=Object(c.useState)(0),d=Object(i.a)(b,2),h=d[0],x=d[1],p=Object(c.useState)(!0),m=Object(i.a)(p,2),g=m[0],_=m[1],v=Object(c.useState)(!0),C=Object(i.a)(v,2),w=C[0],A=C[1];function I(t){t,e=t.inputs,_(!0),e.forEach((function(e){return e.onmidimessage=y}))}function y(e){console.log(e.data),function(e){var t=e[1];144===e[0]&&(x((function(e){return e+1})),s(O[t]))}(e.data)}function D(){_(!1)}function k(){window.location.reload()}return Object(c.useEffect)((function(){navigator.requestMIDIAccess?(A(!0),navigator.requestMIDIAccess().then(I,D)):A(!1)}),[]),Object(j.jsxs)("div",{className:"sheetholder",children:[!w&&Object(j.jsxs)("div",{className:"error",children:[Object(j.jsx)("h1",{children:"It looks like this browser doesn't allow for midi input..."}),Object(j.jsx)("p",{children:"Currently, only Chrome and Edge have MIDI Input capability supported in the browser."}),Object(j.jsx)("button",{onClick:k,children:"Try Again"})]}),w&&!g&&Object(j.jsxs)("div",{className:"error",children:[Object(j.jsx)("h1",{children:"It looks like you denied MIDI input in the browser..."}),Object(j.jsx)("button",{onClick:k,children:"Try Again"})]}),w&&g&&!l&&Object(j.jsx)(f,{setGameOver:function(){return u(!0)},inputNote:r,numPressed:h,changeInput:function(){return s("")}}),l&&Object(j.jsx)("h1",{children:"Over"})]})}function p(){return Object(j.jsx)("div",{className:"header-holder",children:Object(j.jsx)("h1",{children:"Piano Typer"})})}function m(){return Object(j.jsx)("div",{className:"footer-holder",children:Object(j.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/saranshsaini/PlayToLearn/tree/sourcecode",children:"Source Code"})})}var g=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{}),Object(j.jsx)(x,{}),Object(j.jsx)(m,{})]})};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.cb907523.chunk.js.map